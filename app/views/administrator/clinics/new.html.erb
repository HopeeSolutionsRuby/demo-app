<div class="container-fluid rounded mt-5" data-controller="clinic">
  <div class="row">
    <div class="col-md-12">
      <div class="p-3 py-5 table-res">

        <%= form_with(model: @clinic, url: administrator_clinics_path, class: 'needs-validation' , novalidate: true,
          multipart: true) do |form| %>
          <div class="row">
            <div class="d-flex justify-content-between align-items-center mb-3 col-md-8">
              <%= link_to administrator_clinics_path, class: 'd-flex flex-row align-items-center back unstyled-link' do
                %>
                <i class="fa fa-long-arrow-left mb-2 mx-2"></i>
                <h6>Back to home</h6>
                <% end %>
                  <h6 class="text-right">New Profile</h6>
            </div>
            <div class="col-md-8 border-10 py-3 px-3 bg-white">
                <div class="col-md-12">
                <%= form.label :name, 'Name' , class:'form-label text-back' %>
                <%= form.text_field :name, class: 'form-control input-branch' ,placeholder: "Enter name", required: true %>
              </div>
              <div class="col-md-12">
                <%= form.label :address, 'Address' , class:'form-label text-back' %>
                <%= form.text_field :address, class: 'form-control input-branch' ,placeholder: "Enter address", required: true %>
              </div>
              <div class="col-md-12">
                <%= form.label :region, 'Region' , class:'form-label text-back' %>
                <%= form.text_field :region, class: 'form-control input-branch' ,placeholder: "Enter region", required: true %>
              </div>
              <div class="col-md-12">
                <%= form.label :faculity, 'Faculity' , class:'form-label text-back' %>
              <%= form.text_field :faculty, class: 'form-control input-branch', placeholder: "Enter faculity", required: "required" %>
              </div>
              <div data-controller="dropzone" data-dropzone-target="previewContainer"
              class="preview-container mt-3 p-3 col-md-12">
              <div class="input-group input-branch">
                <%= form.file_field :pictures, id: "clinic_pictures" , multiple: true, class: "form-control", "data-dropzone-target": "input" , required: true %>
              </div>

              <label for="clinic_pictures" class="form-label drag mt-2 ">
                Drag and drop files here or click to upload
              </label>
            </div>
            </div>

            
            <div class="branches col-md-4 end-0">
              <%= form.fields_for :branches do |branch| %>
                <%= render 'branch_add_fields' , f: branch %>
                  <% end %>
            </div>
          </div>
      </div>
      <div class="form-actions btn-new mt-3">
        <%= form.submit 'Save' , class: 'btn btn-primary' ,id:"submitButton",data:{turbo: false} %>
        <%= link_to_add_association "Add branches" , form, :branches, data: {association_insertion_node: '.branches' ,
          association_insertion_method: :append},class:"btn btn-success" %>
        <%= link_to 'Cancel' , administrator_clinics_path, class:"btn btn-secondary" %>
      </div>
      <% end %>
    </div>
  </div>